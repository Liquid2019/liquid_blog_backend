(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d229838"],{de89:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-full"},[r("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[r("i",{staticClass:"fa fa fa-book"},[t._v(" 编辑文章")])])]),r("div",[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules}},[r("el-form-item",{attrs:{prop:"title"}},[r("el-input",{attrs:{placeholder:"输入标题"},model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1),r("div",{attrs:{id:"vditor"}}),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("提交 ")]),r("el-button",{on:{click:function(e){return t.resetForm("ruleForm")}}},[t._v("重置")])],1)],1)],1)])],1)])},l=[],o=r("2423"),n=r("ff41"),a=r.n(n),s=(r("2f2f"),{name:"article_create",data:function(){return{that:this,articleId:"",contentEditor:{},createTime:"",ruleForm:{title:"",content:""},rules:{title:[{required:!0,message:"请输入文章标题",trigger:"blur"},{min:1,max:25,message:"长度在 1 到 25 个字符",trigger:"blur"}]}}},mounted:function(){var t=this;this.articleId=this.$route.query.id,this.fetchArticle(),this.contentEditor=new a.a("vditor",{height:500,theme:"classic",counter:{enable:!0,type:"markdown"},preview:{delay:0,hljs:{style:"monokai",lineNumber:!0}},tab:"\t",typewriterMode:!0,toolbarConfig:{pin:!0},cache:{enable:!1},mode:"sv",after:function(){t.contentEditor.setValue(t.ruleForm.content)}})},methods:{submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;if(1===e.contentEditor.getValue().length||null==e.contentEditor.getValue()||""===e.contentEditor.getValue())return alert("文章内容不可为空"),!1;e.ruleForm.content=e.contentEditor.getValue();var r={};r["articleId"]=e.articleId,r["articleTitle"]=e.ruleForm.title,r["articleContent"]=e.ruleForm.content,console.log(r),Object(o["e"])(r).then((function(t){t.data;setTimeout((function(){e.$router.push({name:"admin_article_list"})}),800)}))}))},resetForm:function(t){this.$refs[t].resetFields(),this.contentEditor.setValue(""),this.ruleForm.tags=""},fetchArticle:function(){var t=this,e={};e["id"]=this.articleId,Object(o["d"])(e).then((function(e){var r=e.data[0];t.ruleForm.title=r.articleTitle,t.ruleForm.content=r.articleContent,t.createTime=r.articleCreateTime}))}}}),c=s,u=r("2877"),m=Object(u["a"])(c,i,l,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d229838.b53035d4.js.map